<div class="actor-show-container margin-top-show">
  <%= render "shared/actor_imgs_modal", actor: @actor %>

  <%= render "shared/actor_image_header", actor: @actor %>

  <div class="actor-infos-col mt-5">
    <div class="actor-header d-flex justify-content-between">
      <h1 class="actor-name mb-0 ms-5"><%= @actor.first_name.upcase %> <%= @actor.last_name.upcase %></h1>
      <div class="actor-links justify-content-center mx-5 gap-3">
        <% @actor.links.where(video: false).each do |link| %>
          <%= link_to link.url, target: "_blank" do %>
            <%= cl_image_tag link.social.logo.key, class: "actor-link" %>
          <% end %>
        <% end %>
      </div>
    </div>

    <div class="position-relative py-4 px-5" style="min-height: 175px">
      <p class="category-title">_________ BIO</p>
      <p class="actor-bio actor-p m-0"><%= @actor.bio %></p>
    </div>
    
    <div class="white-bg position-relative py-4 px-5 d-flex justify-content-between flex-column" style="min-height: 175px">
      <p class="category-title">_________ INFO</p>
      <p class="mb-0 actor-p"><span class="actor-info">ALTURA</span> <%= @actor.height %> cm</p>
      <p class="mb-0 actor-p"><span class="actor-info">OLHOS</span> <%= @actor.eyes.capitalize %></p>
      <p class="mb-0 actor-p"><span class="actor-info">CABELO</span> <%= @actor.hair.capitalize %></p>
    </div>

    <div class="position-relative py-4 px-5 d-flex justify-content-between flex-column" style="min-height: 175px">
      <p class="category-title">_________ FOTOS</p>
      <div class="actor-photos-container">
        <% j = 1 %>
        <% @actor.photos.each do |photo| %>
          <%= cl_image_tag photo.key, class: "actor-photo", data: { controller: "actor-photos", action: "click->actor-photos#slide", photo_id: j } %>
          <% j += 1 %>
        <% end %>
      </div>
    </div>

    <div class="position-relative py-4 px-5" style="min-height: 175px" data-controller="video-height" data-action="resize@window->video-height#setVideoHeight">
      <p class="category-title">_________ VIDEOS</p>
      <% @videos.each do |link| %>
        <% if link.social.name == "Youtube" %>
          <iframe data-video-height-target="youtubeFrame" style="max-width: 100%" width="100%" height="<%= 600 * (9.fdiv(16)) %>" src="<%= link.social.url %><%= link.url %>" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        <% elsif link.social.name == "Vimeo" %>
          <iframe data-video-height-target="vimeoFrame" style="max-width: 100%" width="100%" height="<%= 600 * (9.fdiv(16)) %>" src="<%= link.url %>" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>
        <% end %>
      <% end %>

      <% @video_links.each do |link| %>
        <% if link = @video_links.first %>
          <p class="my-2">Other videos:</p>
        <% end %>
        <a href="<%= link.url %>" target="_blank" class="white-link"><%= link.url %></a>
      <% end %>

      <div class="mt-4 text-center">
        <% if @actor.cv.attached? %>
          <%= link_to cloudinary_url(@actor.cv.key), class: "white-btn", target: "_blank" do %>
            â†’ DONWLOAD CV
          <% end %>
        <% end %>

        <div class="actor-links-mobile justify-content-center mx-5 mt-4 gap-3">
          <% @actor.links.where(video: false).each do |link| %>
            <%= link_to link.url, target: "_blank" do %>
              <%= cl_image_tag link.social.logo.key, class: "actor-link" %>
            <% end %>
          <% end %>
        </div>
      </div>
    </div>

    <% if @actor.articles.present? %>
      <div class="position-relative py-4 px-5 d-flex justify-content-between flex-column" style="min-height: 200px">
        <p class="category-title">_________ NOTICIAS</p>
        <div class="actor-photos-container">
          <% @actor.articles.each do |article| %>
            <a href="<%= article.url %>" class="d-flex gap-3 mb-3 white-link" target="a_blank">
              <%= cl_image_tag article.image.key, class: "article-image" %>
              <p><%= article.url %></p>
            </a>
          <% end %>
        </div>
      </div>
    <% end %>

    <%= render "shared/footer" %>
  </div>
</div>
